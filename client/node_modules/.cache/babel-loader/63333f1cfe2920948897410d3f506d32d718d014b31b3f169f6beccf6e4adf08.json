{"ast":null,"code":"var _jsxFileName = \"/Users/christiangerard/Development/code/capstone/umami/client/src/context/UserContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const login = user => {\n    setUser(user);\n  };\n  const logout = user => {\n    try {\n      fetch('/logout', {\n        method: 'DELETE'\n      }).then(res => {\n        if (res.status === 204) {\n          setUser(null);\n          toast.success('All logged out!');\n        } else {\n          toast.error('Something whent wrong while logging out. Please try again.');\n        }\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  // Refresh\n  // useEffect(() => {\n  //     fetch('/me')\n  //     .then(resp => {\n  //         if (resp.ok) {\n  //             resp.json().then(setUser)\n\n  //         } else {\n  //             toast.error('Please log in')\n  //         }\n  //     })\n  // }, [])\n\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(UserProvider, \"Iei9RGtZU29Y1RhBe1sbfh/MntA=\");\n_c = UserProvider;\nexport const UserContext = /*#__PURE__*/createContext();\nexport default UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useState","toast","useEffect","jsxDEV","_jsxDEV","UserProvider","children","_s","user","setUser","login","logout","fetch","method","then","res","status","success","error","err","UserContext","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/christiangerard/Development/code/capstone/umami/client/src/context/UserContext.js"],"sourcesContent":["import { createContext, useState } from 'react'\nimport toast from 'react-hot-toast'\nimport {useEffect} from 'react'\n\n\nconst UserProvider = ({ children }) => {\n    const [user, setUser] = useState(null)\n    \n\tconst login = (user) => {\n        setUser(user)\n\t}\n    \n\tconst logout = (user) => {\n        try {\n            fetch('/logout', { method: 'DELETE' }).then((res) => {\n                if (res.status === 204) {\n                    setUser(null)\n\t\t\t\t\ttoast.success('All logged out!')\n\t\t\t\t} else {\n                    toast.error('Something whent wrong while logging out. Please try again.')\n\t\t\t\t}\n\t\t\t})\n\t\t} catch (err) {\n            throw err\n        }}\n        \n        \n        \n        // Refresh\n        // useEffect(() => {\n        //     fetch('/me')\n        //     .then(resp => {\n        //         if (resp.ok) {\n        //             resp.json().then(setUser)\n                    \n        //         } else {\n        //             toast.error('Please log in')\n        //         }\n        //     })\n        // }, [])\n        \n        return (\n        <UserContext.Provider value={{ user, login, logout }}>\n            {children}\n        </UserContext.Provider>\n)}\n\nexport const UserContext = createContext()\nexport default UserProvider"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAAQC,SAAS,QAAO,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAG/B,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAEzC,MAAMU,KAAK,GAAIF,IAAI,IAAK;IACjBC,OAAO,CAACD,IAAI,CAAC;EACpB,CAAC;EAED,MAAMG,MAAM,GAAIH,IAAI,IAAK;IAClB,IAAI;MACAI,KAAK,CAAC,SAAS,EAAE;QAAEC,MAAM,EAAE;MAAS,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACjD,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UACpBP,OAAO,CAAC,IAAI,CAAC;UAC5BR,KAAK,CAACgB,OAAO,CAAC,iBAAiB,CAAC;QACjC,CAAC,MAAM;UACShB,KAAK,CAACiB,KAAK,CAAC,4DAA4D,CAAC;QACzF;MACD,CAAC,CAAC;IACH,CAAC,CAAC,OAAOC,GAAG,EAAE;MACJ,MAAMA,GAAG;IACb;EAAC,CAAC;;EAIF;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA,oBACAf,OAAA,CAACgB,WAAW,CAACC,QAAQ;IAACC,KAAK,EAAE;MAAEd,IAAI;MAAEE,KAAK;MAAEC;IAAO,CAAE;IAAAL,QAAA,EAChDA;EAAQ;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAC9B,CAAC;AAAAnB,EAAA,CAxCIF,YAAY;AAAAsB,EAAA,GAAZtB,YAAY;AA0ClB,OAAO,MAAMe,WAAW,gBAAGrB,aAAa,CAAC,CAAC;AAC1C,eAAeM,YAAY;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}