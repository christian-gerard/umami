{"ast":null,"code":"var _jsxFileName = \"/Users/christiangerard/Development/code/capstone/umami/client/src/context/UserContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from 'react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext();\nconst UserProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const login = user => setUser(user);\n  const logout = () => {\n    try {\n      fetch('/logout', {\n        method: 'DELETE'\n      }).then(res => {\n        if (res.status === 204) {\n          setUser(null);\n          toast.success('Logged Out');\n        } else {\n          toast.error('Something whent wrong while logging out. Please try again.');\n        }\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n  const removeUserData = () => {\n    try {\n      fetch('/logout', {\n        method: 'DELETE'\n      }).then(res => {\n        if (res.status === 204) {\n          setUser(null);\n        } else {}\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n  const updateRecipes = newRecipes => {\n    setUser({\n      ...user,\n      recipes: newRecipes\n    });\n  };\n  const updateUser = newUser => {\n    setUser({\n      ...user,\n      email: newUser.email,\n      username: newUser.username\n    });\n  };\n  useEffect(() => {\n    fetch('/me').then(resp => {\n      if (resp.ok) {\n        resp.json().then(setUser);\n      } else {\n        toast.error('Please log in');\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      login,\n      logout,\n      updateRecipes,\n      removeUserData,\n      updateUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProvider, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n_c = UserProvider;\nexport default UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","toast","jsxDEV","_jsxDEV","UserContext","UserProvider","children","_s","user","setUser","login","logout","fetch","method","then","res","status","success","error","err","removeUserData","updateRecipes","newRecipes","recipes","updateUser","newUser","email","username","resp","ok","json","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/christiangerard/Development/code/capstone/umami/client/src/context/UserContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from 'react'\nimport toast from 'react-hot-toast'\n\nexport const UserContext = createContext()\n\nconst UserProvider = ({children}) => {\n\n    const [user, setUser] = useState(null)\n    const login = (user) => setUser(user)\n    const logout = () => {\n          try {\n              fetch('/logout', { method: 'DELETE' }).then((res) => {\n                  if (res.status === 204) {\n                      setUser(null)\n                      toast.success('Logged Out')\n                  } else {\n                      toast.error('Something whent wrong while logging out. Please try again.')\n                  }\n              })\n          } catch (err) {\n              throw err\n    }}\n    const removeUserData = () => {\n        try {\n            fetch('/logout', { method: 'DELETE' }).then((res) => {\n                if (res.status === 204) {\n                    setUser(null)\n                    \n                } else {\n\n                }\n            })\n        } catch (err) {\n            throw err\n  }}\n  \n    const updateRecipes = (newRecipes) => {\n\n      setUser({ ...user, recipes: newRecipes })\n      \n    }\n\n    const updateUser = (newUser) => {\n        setUser({ ...user, email: newUser.email, username: newUser.username })\n    }\n  \n    useEffect(() => {\n      fetch('/me')\n      .then(resp => {\n          if (resp.ok) {\n          resp.json().then(setUser)\n\n          } else {\n          toast.error('Please log in')\n          }\n      })\n  }, [])\n\n  return (\n\n    <UserContext.Provider value={{user, login, logout, updateRecipes, removeUserData, updateUser}}>\n        {children}\n    </UserContext.Provider>\n\n  )\n\n\n}\n\n\nexport default UserProvider"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,iBAAiB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEnC,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAE1C,MAAMO,YAAY,GAAGA,CAAC;EAACC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAEjC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMW,KAAK,GAAIF,IAAI,IAAKC,OAAO,CAACD,IAAI,CAAC;EACrC,MAAMG,MAAM,GAAGA,CAAA,KAAM;IACf,IAAI;MACAC,KAAK,CAAC,SAAS,EAAE;QAAEC,MAAM,EAAE;MAAS,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACjD,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UACpBP,OAAO,CAAC,IAAI,CAAC;UACbR,KAAK,CAACgB,OAAO,CAAC,YAAY,CAAC;QAC/B,CAAC,MAAM;UACHhB,KAAK,CAACiB,KAAK,CAAC,4DAA4D,CAAC;QAC7E;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOC,GAAG,EAAE;MACV,MAAMA,GAAG;IACnB;EAAC,CAAC;EACF,MAAMC,cAAc,GAAGA,CAAA,KAAM;IACzB,IAAI;MACAR,KAAK,CAAC,SAAS,EAAE;QAAEC,MAAM,EAAE;MAAS,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACjD,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UACpBP,OAAO,CAAC,IAAI,CAAC;QAEjB,CAAC,MAAM,CAEP;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOU,GAAG,EAAE;MACV,MAAMA,GAAG;IACnB;EAAC,CAAC;EAEA,MAAME,aAAa,GAAIC,UAAU,IAAK;IAEpCb,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAEe,OAAO,EAAED;IAAW,CAAC,CAAC;EAE3C,CAAC;EAED,MAAME,UAAU,GAAIC,OAAO,IAAK;IAC5BhB,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAEkB,KAAK,EAAED,OAAO,CAACC,KAAK;MAAEC,QAAQ,EAAEF,OAAO,CAACE;IAAS,CAAC,CAAC;EAC1E,CAAC;EAED3B,SAAS,CAAC,MAAM;IACdY,KAAK,CAAC,KAAK,CAAC,CACXE,IAAI,CAACc,IAAI,IAAI;MACV,IAAIA,IAAI,CAACC,EAAE,EAAE;QACbD,IAAI,CAACE,IAAI,CAAC,CAAC,CAAChB,IAAI,CAACL,OAAO,CAAC;MAEzB,CAAC,MAAM;QACPR,KAAK,CAACiB,KAAK,CAAC,eAAe,CAAC;MAC5B;IACJ,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBAEEf,OAAA,CAACC,WAAW,CAAC2B,QAAQ;IAACC,KAAK,EAAE;MAACxB,IAAI;MAAEE,KAAK;MAAEC,MAAM;MAAEU,aAAa;MAAED,cAAc;MAAEI;IAAU,CAAE;IAAAlB,QAAA,EACzFA;EAAQ;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAK3B,CAAC;AAAA7B,EAAA,CA9DKF,YAAY;AAAAgC,EAAA,GAAZhC,YAAY;AAiElB,eAAeA,YAAY;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}