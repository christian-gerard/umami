{"ast":null,"code":"var _jsxFileName = \"/Users/christiangerard/Development/code/capstone/umami/client/src/context/UserContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext();\nconst UserProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const login = user => {\n    setUser(user);\n  };\n  const logout = user => {\n    try {\n      fetch('/logout', {\n        method: 'DELETE'\n      }).then(res => {\n        if (res.status === 204) {\n          setUser(null);\n          toast.success('All logged out!');\n        } else {\n          toast.error('Something whent wrong while logging out. Please try again.');\n        }\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  // Refresh\n  useEffect(() => {\n    fetch('/me').then(resp => {\n      if (resp.ok) {\n        resp.json().then(setUser);\n      } else {\n        toast.error('Please log in');\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(UserProvider, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n_c = UserProvider;\nexport default UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useState","toast","useEffect","jsxDEV","_jsxDEV","UserContext","UserProvider","children","_s","user","setUser","login","logout","fetch","method","then","res","status","success","error","err","resp","ok","json","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/christiangerard/Development/code/capstone/umami/client/src/context/UserContext.js"],"sourcesContent":["import { createContext, useState } from 'react'\nimport toast from 'react-hot-toast'\nimport {useEffect} from 'react'\n\nexport const UserContext = createContext()\n\nconst UserProvider = ({ children }) => {\n\tconst [user, setUser] = useState(null)\n\n\tconst login = (user) => {\n\t\tsetUser(user)\n\t}\n\n\tconst logout = (user) => {\n\t\ttry {\n\t\t\tfetch('/logout', { method: 'DELETE' }).then((res) => {\n\t\t\t\tif (res.status === 204) {\n\t\t\t\t\tsetUser(null)\n\t\t\t\t\ttoast.success('All logged out!')\n\t\t\t\t} else {\n\t\t\t\t\ttoast.error('Something whent wrong while logging out. Please try again.')\n\t\t\t\t}\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tthrow err\n    }}\n\n\n\n    // Refresh\n    useEffect(() => {\n        fetch('/me')\n        .then(resp => {\n            if (resp.ok) {\n            resp.json().then(setUser)\n            \n            } else {\n            toast.error('Please log in')\n            }\n        })\n    }, [])\n\n    return (\n        <UserContext.Provider value={{ user, login, logout }}>\n            {children}\n        </UserContext.Provider>\n)}\n\nexport default UserProvider"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAAQC,SAAS,QAAO,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE/B,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAE1C,MAAMO,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAMW,KAAK,GAAIF,IAAI,IAAK;IACvBC,OAAO,CAACD,IAAI,CAAC;EACd,CAAC;EAED,MAAMG,MAAM,GAAIH,IAAI,IAAK;IACxB,IAAI;MACHI,KAAK,CAAC,SAAS,EAAE;QAAEC,MAAM,EAAE;MAAS,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACpD,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UACvBP,OAAO,CAAC,IAAI,CAAC;UACbT,KAAK,CAACiB,OAAO,CAAC,iBAAiB,CAAC;QACjC,CAAC,MAAM;UACNjB,KAAK,CAACkB,KAAK,CAAC,4DAA4D,CAAC;QAC1E;MACD,CAAC,CAAC;IACH,CAAC,CAAC,OAAOC,GAAG,EAAE;MACb,MAAMA,GAAG;IACR;EAAC,CAAC;;EAIF;EACAlB,SAAS,CAAC,MAAM;IACZW,KAAK,CAAC,KAAK,CAAC,CACXE,IAAI,CAACM,IAAI,IAAI;MACV,IAAIA,IAAI,CAACC,EAAE,EAAE;QACbD,IAAI,CAACE,IAAI,CAAC,CAAC,CAACR,IAAI,CAACL,OAAO,CAAC;MAEzB,CAAC,MAAM;QACPT,KAAK,CAACkB,KAAK,CAAC,eAAe,CAAC;MAC5B;IACJ,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIf,OAAA,CAACC,WAAW,CAACmB,QAAQ;IAACC,KAAK,EAAE;MAAEhB,IAAI;MAAEE,KAAK;MAAEC;IAAO,CAAE;IAAAL,QAAA,EAChDA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAC9B,CAAC;AAAArB,EAAA,CAxCIF,YAAY;AAAAwB,EAAA,GAAZxB,YAAY;AA0ClB,eAAeA,YAAY;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}